{"version":3,"sources":["Components/LoadMoreButton/Button.module.css","Components/ImageFilter/ImageFinder.module.css","Components/SearchForm/SearchForm.js","Components/Modal/Modal.js","Components/ImageFilter/PhotoCard.js","Components/ImageFilter/Gallery.js","services/imageFinder-api.js","Components/LoadMoreButton/LoadMoreButton.js","helpers/mapper.js","Components/App/App.js","index.js","Components/Modal/Modal.module.css"],"names":["module","exports","loadMoreButton","button","app","searchForm","gallery","photoCard","stats","statsItem","fullscreenButton","galleryItem","SearchForm","state","category","handleInputChange","e","_this","setState","target","value","handleFormSubmit","preventDefault","props","onSubmit","this","react_default","a","createElement","className","styles","type","autoComplete","placeholder","onChange","Component","Modal","isOpen","overlayRef","createRef","handleOpenModal","handleModalHide","handleCloseModal","handleKeyPress","code","handleOverlayClick","current","window","addEventListener","removeEventListener","_this$props","url","tags","CSSTransition","in","timeout","classNames","unmountOnExit","ref","overlay","onClick","modal","src","alt","defaultProps","PhotoCard","modalOpen","handleModalShow","smallImage","largeImage","likes","views","comments","downloads","Components_Modal_Modal","Gallery","_ref","cards","map","card","key","id","ImageFilter_PhotoCard","getCardsFromApi","query","page","arguments","length","undefined","axios","get","concat","then","data","hits","LoadMoreButton","handleLoadMore","wrapButton","role","aria-label","mapper","arr","el","webformatURL","largeImageURL","Object","objectSpread","App","error","handleSubmit","catch","_this$state","toConsumableArray","_this2","scrollTo","top","document","body","scrollHeight","behavior","_this$state2","Components_SearchForm_SearchForm","Fragment","ImageFilter_Gallery","Components_LoadMoreButton_LoadMoreButton","ReactDOM","render","Components_App_App","getElementById"],"mappings":"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","file":"static/js/main.1e6f3c07.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadMoreButton\":\"Button_loadMoreButton__3tZPm\",\"button\":\"Button_button__3sbmJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"ImageFinder_app__sF7Bj\",\"searchForm\":\"ImageFinder_searchForm__5zyfK\",\"gallery\":\"ImageFinder_gallery__30XP1\",\"photoCard\":\"ImageFinder_photoCard__1_ngp\",\"stats\":\"ImageFinder_stats__2r0Fr\",\"statsItem\":\"ImageFinder_statsItem__3T2qg\",\"fullscreenButton\":\"ImageFinder_fullscreenButton__2aETR\",\"galleryItem\":\"ImageFinder_galleryItem__1zxwH\",\"button\":\"ImageFinder_button__35aaL\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from '../ImageFilter/ImageFinder.module.css';\n\nclass SearchForm extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = { category: '' };\n\n  handleInputChange = e => this.setState({ category: e.target.value });\n\n  handleFormSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.category);\n\n    this.setState({ category: '' });\n  };\n\n  render() {\n    const { category } = this.state;\n    return (\n      <form className={styles.searchForm} onSubmit={this.handleFormSubmit}>\n        <input\n          type=\"text\"\n          value={category}\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n          onChange={this.handleInputChange}\n        />\n      </form>\n    );\n  }\n}\n\nexport default SearchForm;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { CSSTransition } from 'react-transition-group';\nimport styles from './Modal.module.css';\nimport './modalTransition.css';\n\nclass Modal extends Component {\n  static defaultProps = {\n    tags: 'large card image',\n  };\n\n  static propTypes = {\n    url: PropTypes.string.isRequired,\n    tags: PropTypes.string,\n    handleModalHide: PropTypes.func.isRequired,\n  };\n\n  state = { isOpen: true };\n\n  overlayRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleOpenModal = () => {\n    this.setState({ isOpen: true });\n    this.props.handleModalHide();\n  };\n\n  handleCloseModal = () => {\n    this.setState({ isOpen: false });\n    this.props.handleModalHide();\n  };\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') return;\n\n    this.handleCloseModal();\n  };\n\n  handleOverlayClick = e => {\n    const { current } = this.overlayRef;\n\n    if (current && e.target !== current) return;\n\n    this.handleCloseModal();\n  };\n\n  render() {\n    const { isOpen } = this.state;\n    const { url, tags } = this.props;\n\n    return (\n      <CSSTransition in={isOpen} timeout={500} classNames=\"modal\" unmountOnExit>\n        {/*eslint-disable*/}\n        <div\n          ref={this.overlayRef}\n          className={styles.overlay}\n          onClick={this.handleOverlayClick}\n        >\n          <div className={styles.modal}>\n            <img src={url} alt={tags} />\n          </div>\n        </div>\n      </CSSTransition>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { CSSTransition } from 'react-transition-group';\nimport styles from './ImageFinder.module.css';\nimport Modal from '../Modal/Modal';\nimport '../Modal/modalTransition.css';\n\nclass PhotoCard extends Component {\n  static defaultProps = {\n    tags: 'card image',\n  };\n\n  static propTypes = {\n    smallImage: PropTypes.string.isRequired,\n    largeImage: PropTypes.string.isRequired,\n    tags: PropTypes.string,\n    likes: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n  };\n\n  state = { modalOpen: false };\n\n  handleModalShow = () => this.setState({ modalOpen: true });\n\n  handleModalHide = () => this.setState({ modalOpen: false });\n\n  render() {\n    const { modalOpen } = this.state;\n    const {\n      smallImage,\n      largeImage,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    } = this.props;\n    return (\n      <div>\n        <div className={styles.photoCard}>\n          <img src={smallImage} alt={tags} />\n\n          <div className={styles.stats}>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">thumb_up</i>\n              {likes}\n            </p>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">visibility</i>\n              {views}\n            </p>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">comment</i>\n              {comments}\n            </p>\n            <p className={styles.statsItem}>\n              <i className=\"material-icons\">cloud_download</i>\n              {downloads}\n            </p>\n          </div>\n\n          <button\n            type=\"button\"\n            className={styles.fullscreenButton}\n            onClick={this.handleModalShow}\n          >\n            <i className=\"material-icons\">zoom_out_map</i>\n          </button>\n        </div>\n        <CSSTransition\n          in={modalOpen}\n          timeout={500}\n          classNames=\"modal\"\n          unmountOnExit\n        >\n          <Modal\n            url={largeImage}\n            tags={tags}\n            handleModalHide={this.handleModalHide}\n          />\n        </CSSTransition>\n      </div>\n    );\n  }\n}\n\nexport default PhotoCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageFinder.module.css';\nimport PhotoCard from './PhotoCard';\n\nconst Gallery = ({ cards }) => (\n  <ul className={styles.gallery}>\n    {cards.map(card => (\n      <li className={styles.galleryItem} key={card.id} id={card.id}>\n        <PhotoCard {...card} />\n      </li>\n    ))}\n  </ul>\n);\n\nGallery.propTypes = {\n  cards: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n};\n\nexport default Gallery;\n","import axios from 'axios';\n\n/* eslint-disable-next-line */\nexport const getCardsFromApi = (query, page = 1) =>\n  axios\n    .get(\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=12869213-d0e5717d841c234d773fc655d`,\n    )\n    .then(({ data }) => data.hits);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst LoadMoreButton = ({ handleLoadMore }) => (\n  <div className={styles.wrapButton}>\n    <button\n      className={styles.loadMoreButton}\n      onClick={handleLoadMore}\n      type=\"button\"\n    >\n      Load More\n      <span role=\"img\" aria-label=\"fire\" />\n    </button>\n  </div>\n);\n\nLoadMoreButton.propTypes = {\n  handleLoadMore: PropTypes.func.isRequired,\n};\n\nexport default LoadMoreButton;\n","const mapper = arr => {\n  return arr.map(el => {\n    const { webformatURL: smallImage, largeImageURL: largeImage } = el;\n    return { smallImage, largeImage, ...el };\n  });\n};\n\nexport default mapper;\n","import React, { Component } from 'react';\nimport SearchForm from '../SearchForm/SearchForm';\nimport Gallery from '../ImageFilter/Gallery';\nimport { getCardsFromApi } from '../../services/imageFinder-api';\nimport LoadMoreButton from '../LoadMoreButton/LoadMoreButton';\nimport mapper from '../../helpers/mapper';\n\nclass App extends Component {\n  state = {\n    cards: [],\n    category: 'cat',\n    page: 2,\n    error: null,\n  };\n\n  componentDidMount() {\n    const { category } = this.state;\n    getCardsFromApi(category)\n      .then(cards => this.setState({ cards: mapper(cards) }))\n      .catch(error => this.setState({ error }));\n  }\n\n  componentDidUpdate() {\n    const { cards } = this.state;\n    if (cards.length > 12) {\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  handleSubmit = category => {\n    getCardsFromApi(category)\n      .then(cards =>\n        this.setState({\n          cards: mapper(cards),\n          page: 2,\n          category,\n        }),\n      )\n      .catch(error => this.setState({ error }));\n  };\n\n  handleLoadMore = () => {\n    const { category, page } = this.state;\n\n    getCardsFromApi(category, page).then(cards =>\n      this.setState(state => ({\n        cards: [...state.cards, ...mapper(cards)],\n        page: state.page + 1,\n      })),\n    );\n  };\n\n  render() {\n    const { cards, error } = this.state;\n    return (\n      <div>\n        <SearchForm onSubmit={this.handleSubmit} />\n        {cards.length > 0 && (\n          <>\n            <Gallery cards={cards} />\n            <LoadMoreButton handleLoadMore={this.handleLoadMore} />\n          </>\n        )}\n        {error && <h2>Not this time...</h2>}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1VgF_\",\"modal\":\"Modal_modal__2EzXp\"};"],"sourceRoot":""}